{"version":3,"file":"commonHelpers3.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nconst pixabayURL = 'https://pixabay.com/api/'; // URL\nconst myKeyPixabay = '45488193-7ca777789e7fbcf45aeeb8195'; // key='***'\n\nconst formSerched = document.querySelector('.js-search-form');\n// const searchInput = document.querySelector('.js-search-input');\n// const searchBtn = document.querySelector('.search-btn');\nconst gallery = document.querySelector('.js-gallery');\n\nconsole.dir(formSerched);\n\nconst fetchToPixabay = questEntered => {\n  const urlOptions = new URLSearchParams({\n    key: myKeyPixabay,\n    q: questEntered,\n    image_type: 'photo',\n\n    safesearch: true,\n    orientation: 'horizontal',\n  });\n\n  return fetch(`${pixabayURL}?${urlOptions}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n\nconst createGalleryCard = imageSet => {\n  return `<li class=\"gallery-card\">\n            <a href=\"${imageSet.largeImageURL}\" class=\"gallery-link\">\n              <img class=\"image-normal\" src=\"${imageSet.webformatURL}\" alt=\"${imageSet.tags}\" width=\"360\" height=\"152\" />\n              <ul class=\"image-text\">\n                <li class=\"image-text-item\">\n                  <p class=\"key key-likes\">Likes</p>\n                  <p class=\"value value-likes\">${imageSet.likes}</p>\n                </li>\n                <li class=\"image-text-item\">\n                  <p class=\"key key-views\">Viwes</p>\n                  <p class=\"value value-views\">${imageSet.views}</p>\n                </li>\n                <li class=\"image-text-item\">\n                  <p class=\"key key-comments\">Comments</p>\n                  <p class=\"value value-comments\">${imageSet.comments}</p>\n                </li>\n                <li class=\"image-text-item\">\n                  <p class=\"key key-downloads\">Downloads</p>\n                  <p class=\"value value-downloads\">${imageSet.downloads}</p>\n                </li>\n              </ul>\n            </a>\n          </li>`;\n};\n\nconst submitSearchPhoto = event => {\n  event.preventDefault();\n\n  const searchResault = formSerched.elements.user_query.value;\n  console.log(searchResault);\n\n  fetchToPixabay(searchResault)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n          maxWidth: '432px',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          messageLineHeight: '150%',\n          timeout: '40000',\n        });\n      }\n\n      const photoCardsInfo = data.hits\n        .map(details => createGalleryCard(details))\n        .join('');\n\n      gallery.innerHTML = photoCardsInfo;\n\n      new SimpleLightbox('.js-gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n\n      // const\n    })\n    .catch(error => {\n      iziToast.info({\n        title: 'error',\n      });\n      console.log(error);\n    });\n\n  formSerched.reset();\n};\n\nformSerched.addEventListener('submit', submitSearchPhoto);\n"],"names":["pixabayURL","myKeyPixabay","formSerched","gallery","fetchToPixabay","questEntered","urlOptions","response","createGalleryCard","imageSet","submitSearchPhoto","event","searchResault","data","iziToast","photoCardsInfo","details","SimpleLightbox","error"],"mappings":"2FAGA,MAAMA,EAAa,2BACbC,EAAe,qCAEfC,EAAc,SAAS,cAAc,iBAAiB,EAGtDC,EAAU,SAAS,cAAc,aAAa,EAEpD,QAAQ,IAAID,CAAW,EAEvB,MAAME,EAAiBC,GAAgB,CACrC,MAAMC,EAAa,IAAI,gBAAgB,CACrC,IAAKL,EACL,EAAGI,EACH,WAAY,QAEZ,WAAY,GACZ,YAAa,YACjB,CAAG,EAED,OAAO,MAAM,GAAGL,CAAU,IAAIM,CAAU,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,EAEMC,EAAoBC,GACjB;AAAA,uBACcA,EAAS,aAAa;AAAA,+CACEA,EAAS,YAAY,UAAUA,EAAS,IAAI;AAAA;AAAA;AAAA;AAAA,iDAI1CA,EAAS,KAAK;AAAA;AAAA;AAAA;AAAA,iDAIdA,EAAS,KAAK;AAAA;AAAA;AAAA;AAAA,oDAIXA,EAAS,QAAQ;AAAA;AAAA;AAAA;AAAA,qDAIhBA,EAAS,SAAS;AAAA;AAAA;AAAA;AAAA,iBAOjEC,EAAoBC,GAAS,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAgBV,EAAY,SAAS,WAAW,MACtD,QAAQ,IAAIU,CAAa,EAEzBR,EAAeQ,CAAa,EACzB,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,SAAU,QACV,aAAc,UACd,YAAa,OACb,kBAAmB,OACnB,QAAS,OACnB,CAAS,EAGH,MAAMC,EAAiBF,EAAK,KACzB,IAAIG,GAAWR,EAAkBQ,CAAO,CAAC,EACzC,KAAK,EAAE,EAEVb,EAAQ,UAAYY,EAEpB,IAAIE,EAAe,gBAAiB,CAClC,aAAc,MACd,aAAc,GACtB,CAAO,CAGP,CAAK,EACA,MAAMC,GAAS,CACdJ,EAAS,KAAK,CACZ,MAAO,OACf,CAAO,EACD,QAAQ,IAAII,CAAK,CACvB,CAAK,EAEHhB,EAAY,MAAK,CACnB,EAEAA,EAAY,iBAAiB,SAAUQ,CAAiB"}