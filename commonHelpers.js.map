{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const pixabayURL = 'https://pixabay.com/api/'; // URL\nconst myKeyPixabay = '45488193-7ca777789e7fbcf45aeeb8195'; // key='***'\n\nexport const fetchToPixabay = questEntered => {\n  const urlOptions = new URLSearchParams({\n    key: myKeyPixabay,\n    q: questEntered,\n    image_type: 'photo',\n    safesearch: true,\n    orientation: 'horizontal',\n  });\n\n  return fetch(`${pixabayURL}?${urlOptions}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};\n","export const createGalleryCard = imageSet => {\n  return `<li class=\"gallery-card\">\n            <a href=\"${imageSet.largeImageURL}\" class=\"gallery-link\">\n              <img class=\"image-normal\" src=\"${imageSet.webformatURL}\" alt=\"${imageSet.tags}\"/>\n              <ul class=\"image-text\">\n                <li class=\"image-text-item\">\n                  <p class=\"key key-likes\">Likes</p>\n                  <p class=\"value value-likes\">${imageSet.likes}</p>\n                </li>\n                <li class=\"image-text-item\">\n                  <p class=\"key key-views\">Viwes</p>\n                  <p class=\"value value-views\">${imageSet.views}</p>\n                </li>\n                <li class=\"image-text-item\">\n                  <p class=\"key key-comments\">Comments</p>\n                  <p class=\"value value-comments\">${imageSet.comments}</p>\n                </li>\n                <li class=\"image-text-item\">\n                  <p class=\"key key-downloads\">Downloads</p>\n                  <p class=\"value value-downloads\">${imageSet.downloads}</p>\n                </li>\n              </ul>\n            </a>\n          </li>`;\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { fetchToPixabay } from './js/pixabay-api';\nimport { createGalleryCard } from './js/render-functions';\n\nconst formSerched = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\nconst preloader = document.querySelector('.preloader-wrap');\n\nconst forRefresh = new SimpleLightbox('.js-gallery a', {\n  captionsData: 'alt',\n  captionDelay: 150,\n});\n\nconst submitSearchPhoto = event => {\n  preloader.classList.remove('is-visible');\n  event.preventDefault();\n\n  const searchResault = formSerched.elements.user_query.value;\n\n  fetchToPixabay(searchResault)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n          maxWidth: '432px',\n          messageColor: '#fafafb',\n          messageSize: '16px',\n          messageLineHeight: '150%',\n        });\n      }\n\n      const photoCardsInfo = data.hits\n        .map(details => createGalleryCard(details))\n        .join('');\n\n      gallery.innerHTML = photoCardsInfo;\n      preloader.classList.add('is-visible');\n      forRefresh.refresh();\n    })\n    .catch(error => {\n      preloader.classList.add('is-visible');\n      iziToast.info({\n        title: `${error}`,\n        position: 'center',\n        backgroundColor: '#ef4040',\n      });\n      console.log(error);\n    });\n\n  formSerched.reset();\n};\npreloader.classList.add('is-visible');\n\nformSerched.addEventListener('submit', submitSearchPhoto);\n"],"names":["pixabayURL","myKeyPixabay","fetchToPixabay","questEntered","urlOptions","response","createGalleryCard","imageSet","formSerched","gallery","preloader","forRefresh","SimpleLightbox","submitSearchPhoto","event","searchResault","data","iziToast","photoCardsInfo","details","error"],"mappings":"6vBAAA,MAAMA,EAAa,2BACbC,EAAe,qCAERC,EAAiBC,GAAgB,CAC5C,MAAMC,EAAa,IAAI,gBAAgB,CACrC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,WAAY,GACZ,YAAa,YACjB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAU,IAAII,CAAU,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECnBaC,EAAoBC,GACxB;AAAA,uBACcA,EAAS,aAAa;AAAA,+CACEA,EAAS,YAAY,UAAUA,EAAS,IAAI;AAAA;AAAA;AAAA;AAAA,iDAI1CA,EAAS,KAAK;AAAA;AAAA;AAAA;AAAA,iDAIdA,EAAS,KAAK;AAAA;AAAA;AAAA;AAAA,oDAIXA,EAAS,QAAQ;AAAA;AAAA;AAAA;AAAA,qDAIhBA,EAAS,SAAS;AAAA;AAAA;AAAA;AAAA,iBCdjEC,EAAc,SAAS,cAAc,iBAAiB,EACtDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAY,SAAS,cAAc,iBAAiB,EAEpDC,EAAa,IAAIC,EAAe,gBAAiB,CACrD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAoBC,GAAS,CACjCJ,EAAU,UAAU,OAAO,YAAY,EACvCI,EAAM,eAAc,EAEpB,MAAMC,EAAgBP,EAAY,SAAS,WAAW,MAEtDN,EAAea,CAAa,EACzB,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,gBAAiB,UACjB,SAAU,QACV,aAAc,UACd,YAAa,OACb,kBAAmB,MAC7B,CAAS,EAGH,MAAMC,EAAiBF,EAAK,KACzB,IAAIG,GAAWb,EAAkBa,CAAO,CAAC,EACzC,KAAK,EAAE,EAEVV,EAAQ,UAAYS,EACpBR,EAAU,UAAU,IAAI,YAAY,EACpCC,EAAW,QAAO,CACxB,CAAK,EACA,MAAMS,GAAS,CACdV,EAAU,UAAU,IAAI,YAAY,EACpCO,EAAS,KAAK,CACZ,MAAO,GAAGG,CAAK,GACf,SAAU,SACV,gBAAiB,SACzB,CAAO,EACD,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAEHZ,EAAY,MAAK,CACnB,EACAE,EAAU,UAAU,IAAI,YAAY,EAEpCF,EAAY,iBAAiB,SAAUK,CAAiB"}